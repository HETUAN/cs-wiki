(window.webpackJsonp=window.webpackJsonp||[]).push([[318],{786:function(s,a,t){"use strict";t.r(a);var n=t(29),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"è¶…é•¿å­—ç¬¦ä¸²å­—æ®µ-å‰ç¼€ç´¢å¼•ä¸¤å®—ç½ª"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è¶…é•¿å­—ç¬¦ä¸²å­—æ®µ-å‰ç¼€ç´¢å¼•ä¸¤å®—ç½ª"}},[s._v("#")]),s._v(" è¶…é•¿å­—ç¬¦ä¸²å­—æ®µï¼Œå‰ç¼€ç´¢å¼•ä¸¤å®—ç½ª")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("å‰ç¼€ç´¢å¼•å¹¶ä¸æ˜¯ä¸€ä¸ªéš¾ç†è§£çš„ä¸œè¥¿ï¼Œä½†æ˜¯è¿™é‡Œé¢æ¶‰åŠåˆ°çš„ä¸€äº›ç»†èŠ‚ï¼Œæˆ‘ç›¸ä¿¡å¾ˆå¤šåŒå­¦éƒ½æ²¡æœ‰å»æ·±å…¥äº†è§£è¿‡ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("è€è§„çŸ©ï¼Œå‰ç¼€ç´¢å¼•ç›¸å…³é¢è¯•é¢˜çš„èƒŒè¯µç‰ˆåœ¨æ–‡æœ«ã€‚ç‚¹å‡»é˜…è¯»åŸæ–‡å¯ä»¥ç›´è¾¾æˆ‘æ”¶å½•æ•´ç†çš„å„å¤§å‚é¢è¯•çœŸé¢˜")])]),s._v(" "),t("p",[s._v("InnoDB è¡¨ä¸­æ¯ä¸€åˆ—ç´¢å¼•çš„æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡ 767 å­—èŠ‚ï¼Œæ‰€ä»¥ï¼Œå¯¹äºæŸäº›æ¯”è¾ƒé•¿çš„å­—æ®µï¼Œå¦‚æœç¡®å®æœ‰å»ºç«‹ç´¢å¼•çš„å¿…è¦ï¼Œä½¿ç”¨å‰ç¼€ç´¢å¼•ä¸ä»…èƒ½å¤Ÿé¿å…ç´¢å¼•é•¿åº¦è¶…è¿‡é™åˆ¶ï¼Œè€Œä¸”ç›¸å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼Œå ç”¨çš„ç©ºé—´å’ŒæŸ¥è¯¢æˆæœ¬æ›´å°ã€‚")]),s._v(" "),t("p",[s._v("è‡³äºä¸ºä»€ä¹ˆè¯´å‰ç¼€ç´¢å¼•å ç”¨çš„ç©ºé—´å’ŒæŸ¥è¯¢æˆæœ¬æ›´å°ï¼Œæˆ‘ä»¬æ¥ç›´æ¥ä¸Šä¸ªä¾‹å­ï¼š")]),s._v(" "),t("p",[s._v("å‡è®¾è¡¨ä¸­å­˜åœ¨ä¸€ä¸ªé‚®ç®± email å­—æ®µï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªå­—æ®µä¸Šé¢åˆ†åˆ«åˆ›å»ºæ™®é€šç´¢å¼•å’Œå‰ç¼€ç´¢å¼•ï¼š")]),s._v(" "),t("p",[s._v("1ï¼‰æ™®é€šç´¢å¼•ï¼ŒåŒ…å«äº†æ¯è¡Œ email è®°å½•çš„çš„æ•´ä¸ªå­—ç¬¦ä¸²ï¼š"),t("code",[s._v("alter table user add index index1(email);")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211215101632.png",alt:""}})]),s._v(" "),t("p",[s._v("2ï¼‰å‰ç¼€ç´¢å¼•ï¼Œå–æ¯è¡Œ email è®°å½•çš„å‰ 6 ä¸ªå­—èŠ‚ï¼š"),t("code",[s._v("alter table user add index index2(email(6));")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211215101645.png",alt:""}})]),s._v(" "),t("p",[s._v("ä½ å¯ä»¥çœ‹åˆ°ï¼Œç”±äº email(6) è¿™ä¸ªç´¢å¼•ç»“æ„ä¸­æ¯ä¸ª email å­—æ®µéƒ½åªå–å‰ 6 ä¸ªå­—èŠ‚ zhangsï¼Œæ‰€ä»¥å ç”¨çš„ç©ºé—´æ¯”æ™®é€šç´¢å¼•æ›´å°ï¼Œè¿™å°±æ˜¯ä½¿ç”¨å‰ç¼€ç´¢å¼•çš„ä¼˜åŠ¿ã€‚")]),s._v(" "),t("p",[s._v("å¾ˆå¥½ç†è§£ï¼Œå¯¹å§ã€‚")]),s._v(" "),t("h2",{attrs:{id:"å‰ç¼€ç´¢å¼•ä¸€å®—ç½ª"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç¼€ç´¢å¼•ä¸€å®—ç½ª"}},[s._v("#")]),s._v(" å‰ç¼€ç´¢å¼•ä¸€å®—ç½ª")]),s._v(" "),t("p",[s._v("ä½†æ˜¯ï¼Œå‰ç¼€ç´¢å¼•è¿™ä¸ªå ç”¨ç©ºé—´æ›´å°çš„ä¼˜åŠ¿"),t("strong",[s._v("å¯èƒ½ä¼šå¸¦æ¥é¢å¤–çš„è®°å½•æ‰«ææ¬¡æ•°")]),s._v("ã€‚")]),s._v(" "),t("p",[s._v("ä¸¾ä¸ªä¾‹å­ï¼Œæ‰§è¡Œå¦‚ä¸‹ sql è¯­å¥ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" email "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zhangs2001'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])])]),t("p",[s._v("1ï¼‰å¯¹äºæ™®é€šç´¢å¼• email æ¥è¯´ï¼Œæ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä» index1 ç´¢å¼•æ ‘æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³ç´¢å¼•å€¼æ˜¯ 'zhangs2001' çš„è¿™æ¡è®°å½•ï¼Œå¹¶è·å–åˆ°ä¸»é”® ID2 çš„å€¼ï¼›")]),s._v(" "),t("li",[s._v("æ ¹æ®ä¸»é”®å€¼å›è¡¨æŸ¥è¯¢ï¼Œè·å–å…¶ä»–ç›¸åº”çš„è®°å½•ï¼Œç„¶åå°†è·å–åˆ°çš„ç»“æœåŠ å…¥ç»“æœé›†ï¼›")]),s._v(" "),t("li",[s._v("å– index1 ç´¢å¼•æ ‘ä¸ŠåˆšåˆšæŸ¥åˆ°çš„ä½ç½®çš„ä¸‹ä¸€æ¡è®°å½•ï¼Œå‘ç°å·²ç»ä¸æ»¡è¶³ email='zhangs2001' çš„æ¡ä»¶äº†ï¼Œç»“æŸæ‰§è¡Œ")])]),s._v(" "),t("p",[s._v("è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œåªéœ€è¦å›è¡¨ä¸€æ¬¡")]),s._v(" "),t("p",[s._v("2ï¼‰å¯¹äºå‰ç¼€ç´¢å¼• email(6) æ¥è¯´ï¼Œæ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä» index1 ç´¢å¼•æ ‘æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³ç´¢å¼•å€¼æ˜¯ 'zhangs' çš„è¿™æ¡è®°å½•ï¼Œå¹¶è·å–åˆ°ä¸»é”® ID1 çš„å€¼ï¼›")]),s._v(" "),t("li",[s._v("æ ¹æ®ä¸»é”®å€¼å›è¡¨æŸ¥è¯¢ï¼Œåˆ¤æ–­ email çš„å€¼åˆ°åº•æ˜¯ä¸æ˜¯ 'zhangs2001'ï¼Œå‘ç°å¹¶ä¸æ˜¯ï¼Œè¿™è¡Œè®°å½•ä¸¢å¼ƒ")]),s._v(" "),t("li",[s._v("å– index1 ç´¢å¼•æ ‘ä¸ŠåˆšåˆšæŸ¥åˆ°çš„ä½ç½®çš„ä¸‹ä¸€æ¡è®°å½•ï¼Œå‘ç° email å‰ç¼€ä»ç„¶æ»¡è¶³ 'zhangs'ï¼Œåˆ™è·å–åˆ°ä¸»é”® ID2 çš„å€¼ï¼›ç„¶åæ ¹æ®ä¸»é”®å€¼å›è¡¨æŸ¥è¯¢ï¼Œè¿”ç° email çš„å€¼ç¡®å®æ˜¯ 'zhangs2001'ï¼Œåˆ™å°†è¿™è¡Œè®°å½•åŠ å…¥ç»“æœé›†")]),s._v(" "),t("li",[s._v("å¦‚æ­¤é‡å¤ï¼Œç›´åˆ° email å‰ç¼€ä¸å†æ˜¯ 'zhangs'ï¼Œåˆ™æ‰§è¡Œç»“æŸ")])]),s._v(" "),t("p",[s._v("å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œéœ€è¦å›è¡¨å››æ¬¡")]),s._v(" "),t("p",[t("strong",[s._v("è¿™å°±æ˜¯å‰ç¼€ç´¢å¼•çš„ç¬¬ä¸€å®—ç½ªï¼šä½¿ç”¨å‰ç¼€ç´¢å¼•å¯èƒ½ä¼šå¢åŠ è®°å½•æ‰«ææ¬¡æ•°ä¸å›è¡¨æ¬¡æ•°ï¼Œå½±å“æ€§èƒ½")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211215114306.png",alt:""}})]),s._v(" "),t("br"),s._v(" "),t("p",[s._v("ä¸è¿‡å‘¢ï¼Œæˆ‘ä»¬åšä¸€äº›ç»†å¾®çš„æ”¹å˜ï¼Œå°±èƒ½è®©è¿™ä¸ªå‰ç¼€ç´¢å¼•å›è¡¨æ¬¡æ•°å¤§å¤§å‡å°‘ã€‚")]),s._v(" "),t("p",[s._v("æŠŠ index2-email(6) è¿™ä¸ªå‰ç¼€ç´¢å¼•æ”¹æˆ index3-email(7)ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211215102003.png",alt:""}})]),s._v(" "),t("p",[s._v("å†æ¥çœ‹ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œæ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä» index1 ç´¢å¼•æ ‘æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³ç´¢å¼•å€¼æ˜¯ 'zhangs2' çš„è¿™æ¡è®°å½•ï¼Œå¹¶è·å–åˆ°ä¸»é”® ID2 çš„å€¼ï¼›")]),s._v(" "),t("li",[s._v("æ ¹æ®ä¸»é”®å€¼å›è¡¨æŸ¥è¯¢ï¼Œåˆ¤æ–­ email çš„å€¼åˆ°åº•æ˜¯ä¸æ˜¯ 'zhangs2001'ï¼Œå‘ç°ç¡®å®æ˜¯ï¼Œåˆ™å°†è¿™è¡Œè®°å½•åŠ å…¥ç»“æœé›†")]),s._v(" "),t("li",[s._v("å– index1 ç´¢å¼•æ ‘ä¸ŠåˆšåˆšæŸ¥åˆ°çš„ä½ç½®çš„ä¸‹ä¸€æ¡è®°å½•ï¼Œå‘ç° email å‰ç¼€ä¸æ»¡è¶³ 'zhangs2'ï¼Œåˆ™æ‰§è¡Œç»“æŸ")])]),s._v(" "),t("p",[s._v("å¯ä»¥çœ‹åˆ°ï¼Œç›¸å¯¹äºæ™®é€šç´¢å¼•ï¼Œemail(7) è¿™ä¸ªå‰ç¼€ç´¢å¼•åŒæ ·åªéœ€è¦å›è¡¨ä¸€æ¬¡ï¼Œå¹¶ä¸”å ç”¨æ›´å°‘çš„ç´¢å¼•ç©ºé—´ã€‚")]),s._v(" "),t("h2",{attrs:{id:"å‰ç¼€ç´¢å¼•äºŒå®—ç½ª"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç¼€ç´¢å¼•äºŒå®—ç½ª"}},[s._v("#")]),s._v(" å‰ç¼€ç´¢å¼•äºŒå®—ç½ª")]),s._v(" "),t("p",[s._v("çœ‹ä¸‹é¢è¿™æ¡ SQL è¯­å¥ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("email "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" email "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zhangs2001'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])])]),t("p",[s._v("å¦‚æœä½¿ç”¨ index1 ç´¢å¼•ï¼ˆå³ email æ•´ä¸ªå­—ç¬¦ä¸²çš„ç´¢å¼•ç»“æ„ï¼‰çš„è¯ï¼Œå¯ä»¥åˆ©ç”¨ä¸Šè¦†ç›–ç´¢å¼•ï¼Œä» index1 ç´¢å¼•æ ‘ä¸ŠæŸ¥åˆ°ç»“æœåå°±å¯ä»¥è¿”å›äº†ï¼Œä¸éœ€è¦è¿›è¡Œå›è¡¨ã€‚")]),s._v(" "),t("p",[s._v("è€Œå¦‚æœä½¿ç”¨ index2ï¼ˆå³ email(6) å‰ç¼€ç´¢å¼•ç»“æ„ï¼‰çš„è¯ï¼Œå°±ä¸å¾—ä¸å†æ¬¡æ ¹æ®ä¸»é”®å€¼å»å›è¡¨åˆ¤æ–­ email å­—æ®µçš„å€¼æ˜¯å¦çœŸçš„æ˜¯ 'zhangs2001'ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ"),t("strong",[s._v("ä½¿ç”¨å‰ç¼€ç´¢å¼•å°±ç”¨ä¸ä¸Šè¦†ç›–ç´¢å¼•å¯¹æŸ¥è¯¢æ€§èƒ½çš„ä¼˜åŒ–äº†")]),s._v("ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211215114306.png",alt:""}})]),s._v(" "),t("p",[s._v("é‚£æœ‰åŒå­¦å°±è¦é—®äº†ï¼Œå¦‚æœæ˜¯ email(10) å‘¢ï¼Œè¿™ä¸ªå‰ç¼€ç´¢å¼•ä¸å°±å®Œå…¨åŒ…å«äº† zhangs2001 çš„æ‰€æœ‰ä¿¡æ¯äº†å˜›ï¼Œè¿˜éœ€è¦å›è¡¨å—ï¼Ÿ")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211215103709.png",alt:""}})]),s._v(" "),t("p",[s._v("ç­”æ¡ˆæ˜¯å¹¶ä¸èƒ½é˜»æ­¢ InnoDB çš„å›è¡¨ï¼Œå› ä¸º "),t("strong",[s._v("InnoDB å¹¶ä¸èƒ½ç¡®å®šå‰ç¼€ç´¢å¼•çš„å®šä¹‰æ˜¯å¦æˆªæ–­äº†å®Œæ•´ä¿¡æ¯")]),s._v("ã€‚è°çŸ¥é“ä½ ä¼šä¸ä¼šåˆå¢åŠ ä¸€ä¸ª 'zhangs20012' çš„è®°å½•å‘¢ï¼Œå¯¹å§ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211215103832.png",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"å¦‚ä½•å®šä¹‰å‰ç¼€ç´¢å¼•çš„é•¿åº¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•å®šä¹‰å‰ç¼€ç´¢å¼•çš„é•¿åº¦"}},[s._v("#")]),s._v(" å¦‚ä½•å®šä¹‰å‰ç¼€ç´¢å¼•çš„é•¿åº¦")]),s._v(" "),t("p",[t("strong",[s._v("ç´¢å¼•é€‰å–çš„è¶Šé•¿ï¼Œå ç”¨çš„ç£ç›˜ç©ºé—´å°±è¶Šå¤§ï¼Œç›¸åŒçš„æ•°æ®é¡µèƒ½æ”¾ä¸‹çš„ç´¢å¼•å€¼å°±è¶Šå°‘ï¼Œæœç´¢çš„æ•ˆç‡ä¹Ÿå°±ä¼šè¶Šä½")]),s._v("ã€‚")]),s._v(" "),t("p",[s._v("åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬æåˆ°ï¼Œåªéœ€è¦æŠŠå‰ç¼€ç´¢å¼•ä» email(6) æ”¹æˆ email(7)ï¼Œå°±å¯ä»¥å¤§å¤§å‡å°‘è®°å½•æ‰«æå’Œå›è¡¨çš„æ¬¡æ•°ï¼Œæ‰€ä»¥ï¼Œ"),t("strong",[s._v("åœ¨å®šä¹‰å‰ç¼€ç´¢å¼•çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å ç”¨ç©ºé—´å’Œæœç´¢æ•ˆç‡ä¹‹é—´åšä¸€ä¸ªæƒè¡¡ trade-off")]),s._v("ã€‚")]),s._v(" "),t("p",[s._v("äº‹å®ä¸Šï¼Œæˆ‘ä»¬åœ¨å»ºç«‹å‰ç¼€ç´¢å¼•æ—¶å…³æ³¨çš„æ˜¯"),t("strong",[s._v("åŒºåˆ†åº¦")]),s._v("ï¼Œ"),t("strong",[s._v("åŒºåˆ†åº¦è¶Šé«˜ï¼Œæ„å‘³ç€é‡å¤çš„é”®å€¼è¶Šå°‘")]),s._v("ï¼Œæ‰€ä»¥åŒºåˆ†åº¦è¶Šé«˜è¶Šå¥½ã€‚")]),s._v(" "),t("p",[s._v("å¯¹äºç´¢å¼•æ¥è¯´ï¼Œä»€ä¹ˆæ˜¯åŒºåˆ†åº¦å‘¢ï¼Œå¾ˆç®€å•ï¼Œå°±æ˜¯è¿™ä¸ªç´¢å¼•ä¸Šæœ‰å¤šå°‘ä¸ªä¸åŒçš„å€¼ã€‚"),t("u",[s._v("å»ºç«‹å‡ºæ¥çš„ç´¢å¼•ä¸Šæ‹¥æœ‰è¶Šå¤šä¸åŒçš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªç´¢å¼•çš„åŒºåˆ†åº¦å°±è¶Šé«˜")]),s._v("ã€‚")]),s._v(" "),t("p",[s._v("å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡"),t("strong",[s._v("ç»Ÿè®¡ç´¢å¼•ä¸Šæœ‰å¤šå°‘ä¸ªä¸åŒçš„å€¼æ¥åˆ¤æ–­è¦ä½¿ç”¨å¤šé•¿çš„å‰ç¼€")]),s._v("ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªè¯­å¥ï¼Œè®¡ç®—å‡º email åˆ—ä¸Šæœ‰å¤šå°‘ä¸ªä¸åŒçš„å€¼ï¼Œè®°ä½œ email_lengthï¼š")]),s._v(" "),t("div",{staticClass:"language-python extra-class"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("select count"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("distinct email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" email_length "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("ç„¶åï¼Œä¾æ¬¡é€‰å–ä¸åŒé•¿åº¦çš„å‰ç¼€æ¥çœ‹åŒºåˆ†åº¦ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦çœ‹å‰ç¼€ç´¢å¼•çš„é•¿åº¦æ˜¯ 6~10 æ—¶å€™çš„åŒºåˆ†åº¦ï¼Œå¯ä»¥ç”¨è¿™ä¸ªè¯­å¥ï¼š")]),s._v(" "),t("div",{staticClass:"language-python extra-class"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("select  count"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("distinct left"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("ï¼‰"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" email_length_6"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  \t\tcount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("distinct left"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("ï¼‰"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" email_length_7"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  \t\tcount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("distinct left"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("ï¼‰"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" email_length_8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  \t\tcount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("distinct left"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("ï¼‰"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" email_length_9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  \t\tcount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("distinct left"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("ï¼‰"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" email_length_10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("å½“ç„¶äº†ï¼Œæ—¢ç„¶æˆ‘ä»¬ä½¿ç”¨äº†å‰ç¼€ç´¢å¼•ï¼Œé‚£ä¹ˆå°±ä¸å¯é¿å…çš„ä¼šæŸå¤±åŒºåˆ†åº¦ï¼Œå°±åƒæˆ‘ä»¬å‰é¢æ‰€è¯´çš„ï¼Œè°ä¹Ÿä¸çŸ¥é“ä¼šä¸ä¼šåˆæ–°å¢å‡ºä¸€æ¡è®°å½•å®Œå…¨è¸©ä¸­å‰ç¼€ä½†æ˜¯åˆä¸æ»¡è¶³åˆ¤æ–­æ¡ä»¶ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦"),t("strong",[s._v("é¢„å…ˆè®¾å®šä¸€ä¸ªå¯ä»¥æ¥å—çš„åŒºåˆ†åº¦æŸå¤±æ¯”ä¾‹")]),s._v("ï¼Œæ¯”å¦‚ 5%ã€‚ç„¶åæ‰¾å‡ºä¸å°äº email_length * (1 - 5%) çš„å€¼ï¼Œå‡è®¾è¿™é‡Œ email_length_8ã€email_length_9 éƒ½æ»¡è¶³ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©å‰ç¼€é•¿åº¦ä¸º 8ã€‚")]),s._v(" "),t("h2",{attrs:{id:"å‰ç¼€ç´¢å¼•çš„åŒºåˆ†åº¦ä¸å¤Ÿé«˜æ€ä¹ˆåŠ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç¼€ç´¢å¼•çš„åŒºåˆ†åº¦ä¸å¤Ÿé«˜æ€ä¹ˆåŠ"}},[s._v("#")]),s._v(" å‰ç¼€ç´¢å¼•çš„åŒºåˆ†åº¦ä¸å¤Ÿé«˜æ€ä¹ˆåŠ")]),s._v(" "),t("p",[s._v("æˆ‘å½“æ—¶å®ä¹ çš„æ—¶å€™å°±é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œå­—æ®µ(å‡è®¾è¿™ä¸ªå­—æ®µåæ˜¯ a)è¶…çº§è¶…çº§é•¿ï¼Œè¿œå¤§äº InnoDB çš„é™åˆ¶ 767 å­—èŠ‚ï¼Œæ™®é€šç´¢å¼•è‚¯å®šæ˜¯ä¸å¯èƒ½äº†ï¼Œå‰ç¼€ç´¢å¼•å°±ç®—æ˜¯é•¿åº¦å®šä¹‰æˆ 767 éƒ½è¿˜æ˜¯å­˜åœ¨åŒºåˆ†åº¦ä¸é«˜çš„æƒ…å†µï¼Œä½†æ˜¯åˆå­˜åœ¨æ ¹æ®è¿™ä¸ªå­—æ®µè¿›è¡ŒæŸ¥è¯¢çš„æŒºé¢‘ç¹çš„ä¸€ä¸ªéœ€æ±‚ã€‚")]),s._v(" "),t("p",[s._v("ä¸€ä¸ªå¾ˆå¸¸è§çš„è§£å†³æ‰‹æ®µå°±æ˜¯ Hashã€‚")]),s._v(" "),t("p",[s._v("å¯¹è¿™ä¸ªè¶…é•¿å­—æ®µ a è¿›è¡Œ hash(å‡è®¾å‘½åä¸º a_hash) å­˜å…¥æ•°æ®åº“ï¼Œç„¶åå¯¹è¿™ä¸ª hash å€¼å»ºç«‹ç´¢å¼•ï¼Œç”±äº hash å€¼åŒæ ·å¯èƒ½å­˜åœ¨å†²çªï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªä¸åŒçš„ a é€šè¿‡ Hash å‡½æ•°å¾—åˆ°çš„ç»“æœå¯èƒ½æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æŸ¥è¯¢è¯­å¥çš„ where éƒ¨åˆ†è¿˜éœ€è¦è¿›è¡Œä¸€æ¬¡ç²¾ç¡®åˆ¤æ–­")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å‡è®¾è¾“å…¥çš„å­—æ®µæ˜¯ input_a")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hash")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("input_a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a_hash "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" input_a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("ä¸è¿‡ä½¿ç”¨ Hash è¿™ç§æ–¹å¼æœ‰ä¸ªä¼—æ‰€å‘¨çŸ¥çš„ç¼ºç‚¹ï¼Œé‚£å°±æ˜¯ä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢äº†ï¼Œåªèƒ½ç­‰å€¼æŸ¥è¯¢ã€‚")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("æœ€åæ”¾ä¸Šè¿™é“é¢˜çš„èƒŒè¯µç‰ˆï¼š")]),s._v(" "),t("blockquote",[t("p",[s._v("ğŸ¥¸ "),t("strong",[s._v("é¢è¯•å®˜")]),s._v("ï¼šå‰ç¼€ç´¢å¼•äº†è§£å—ï¼Œä¸ºä»€ä¹ˆè¦å»ºå‰ç¼€ç´¢å¼•")]),s._v(" "),t("p",[s._v("ğŸ˜ "),t("strong",[s._v("å°ç‰›è‚‰")]),s._v("ï¼šå‰ç¼€ç´¢å¼•å°±æ˜¯é€‰å–å­—æ®µçš„å‰å‡ ä¸ªå­—èŠ‚å»ºç«‹ç´¢å¼•ã€‚é¦–å…ˆï¼ŒInnoDB é™åˆ¶äº†æ¯åˆ—ç´¢å¼•çš„æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡ 767 å­—èŠ‚ï¼Œæ‰€ä»¥ï¼Œå¯¹äºæŸäº›æ¯”è¾ƒé•¿çš„å­—æ®µï¼Œå¦‚æœç¡®å®æœ‰å»ºç«‹ç´¢å¼•çš„å¿…è¦ï¼Œä½¿ç”¨å‰ç¼€ç´¢å¼•ä¸ä»…èƒ½å¤Ÿé¿å…ç´¢å¼•é•¿åº¦è¶…è¿‡é™åˆ¶ï¼Œè€Œä¸”ç›¸å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼Œå ç”¨çš„ç©ºé—´å’ŒæŸ¥è¯¢æˆæœ¬æ›´å°ã€‚")]),s._v(" "),t("p",[s._v("ä¸è¿‡å‰ç¼€ç´¢å¼•å¯èƒ½ä¼šå¯¼è‡´ä¸¤ä¸ªé—®é¢˜ï¼š")]),s._v(" "),t("p",[s._v("ç¬¬ä¸€ä¸ªï¼Œä½¿ç”¨å‰ç¼€ç´¢å¼•å¯èƒ½ä¼šå¢åŠ è®°å½•æ‰«ææ¬¡æ•°ä¸å›è¡¨æ¬¡æ•°ï¼Œå½±å“æ€§èƒ½ã€‚é’ˆå¯¹è¿™ä¸€ç‚¹å‘¢ï¼Œå…¶å®å‰ç¼€ç´¢å¼•é•¿åº¦çš„é€‰å–è¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¯èƒ½å‰ç¼€å®šä¹‰çš„é•¿ä¸€ç‚¹ï¼Œå°±èƒ½å¤Ÿå¤§å¹…å‡å°‘è®°å½•æ‰«ææ¬¡æ•°å’Œå›è¡¨æ¬¡æ•°ï¼Œæ‰€ä»¥ï¼Œåœ¨å»ºç«‹å‰ç¼€ç´¢å¼•çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å ç”¨ç©ºé—´å’Œæœç´¢æ•ˆç‡ä¹‹é—´åšä¸€ä¸ªæƒè¡¡")]),s._v(" "),t("p",[s._v("ç¬¬äºŒä¸ªï¼Œä½¿ç”¨å‰ç¼€ç´¢å¼•å…¶å®å°±æ²¡æ³•ç”¨è¦†ç›–ç´¢å¼•å¯¹æŸ¥è¯¢æ€§èƒ½çš„ä¼˜åŒ–äº†ï¼Œå› ä¸º InnoDB å¹¶ä¸èƒ½ç¡®å®šå‰ç¼€ç´¢å¼•çš„å®šä¹‰æ˜¯å¦æˆªæ–­äº†å®Œæ•´ä¿¡æ¯ï¼Œå°±ç®—æ˜¯å®Œå…¨è¸©ä¸­äº†å‰ç¼€ç´¢å¼•ï¼ŒInnoDB è¿˜å¾—å›è¡¨ç¡®è®¤ä¸€æ¬¡åˆ°åº•æ˜¯ä¸æ˜¯æ»¡è¶³æ¡ä»¶äº†ã€‚")])])])}),[],!1,null,null,null);a.default=e.exports}}]);